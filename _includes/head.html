<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {%- seo -%}
  <link rel="stylesheet" href="{{ "/assets/main.css" | relative_url }}">
  <link rel="stylesheet" href="{{ "/assets/custom.css" | relative_url }}">
  {%- feed_meta -%}
  {%- if jekyll.environment == 'production' and site.google_analytics -%}
    {%- include google-analytics.html -%}
  {%- endif -%}

  <!-- GLightbox CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">

  <!-- BLB ScriptTagger -->
  <script src="https://www.blueletterbible.org/assets/scripts/blbToolTip/BLB_ScriptTagger-min.js" type="text/javascript"></script>
  <script type="text/javascript">
    BLB.Tagger.Translation = 'NKJV';
    BLB.Tagger.HyperLinks = 'all'; 
    BLB.Tagger.HideTanslationAbbrev = true;
    BLB.Tagger.TargetNewWindow = true;
    BLB.Tagger.Style = 'par'; 
    BLB.Tagger.NoSearchTagNames = ''; 
    BLB.Tagger.NoSearchClassNames = 'noTag doNotTag'; 
  </script>

  <!-- GLightbox JS -->
  <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>

  <!-- Dark Mode Script -->
  <script>
    function toggleDarkMode() {
      const body = document.body;
      const currentTheme = body.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      body.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      updateToggleIcon();
    }

    function updateToggleIcon() {
      const toggle = document.querySelector('.dark-mode-toggle');
      if (toggle) {
        const theme = document.body.getAttribute('data-theme');
        toggle.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
      }
    }

    document.addEventListener('DOMContentLoaded', function() {
      const savedTheme = localStorage.getItem('theme') || 'light';
      document.body.setAttribute('data-theme', savedTheme);

      // Add toggle button
      const toggle = document.createElement('button');
      toggle.className = 'dark-mode-toggle';
      toggle.onclick = toggleDarkMode;
      toggle.title = 'Toggle Dark Mode';
      document.body.appendChild(toggle);
      updateToggleIcon();

      // Initialize GLightbox
      const lightbox = GLightbox({
        selector: '.lightbox, .image-block'
      });
    });
  </script>
</head>
